<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node篇 | 大前端 - 前端高级进阶</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="大前端课程电子书">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notes-page/assets/css/0.styles.e2a3d81d.css" as="style"><link rel="preload" href="/notes-page/assets/js/app.8d82347b.js" as="script"><link rel="preload" href="/notes-page/assets/js/8.8378e173.js" as="script"><link rel="preload" href="/notes-page/assets/js/67.b271c2a3.js" as="script"><link rel="prefetch" href="/notes-page/assets/js/1.c91133a0.js"><link rel="prefetch" href="/notes-page/assets/js/10.ff4067df.js"><link rel="prefetch" href="/notes-page/assets/js/100.f50fb403.js"><link rel="prefetch" href="/notes-page/assets/js/101.b7840487.js"><link rel="prefetch" href="/notes-page/assets/js/102.31395dd4.js"><link rel="prefetch" href="/notes-page/assets/js/103.750137dd.js"><link rel="prefetch" href="/notes-page/assets/js/104.f0427d95.js"><link rel="prefetch" href="/notes-page/assets/js/105.37dd1353.js"><link rel="prefetch" href="/notes-page/assets/js/106.bf97e446.js"><link rel="prefetch" href="/notes-page/assets/js/107.143f1f97.js"><link rel="prefetch" href="/notes-page/assets/js/108.550b5c6d.js"><link rel="prefetch" href="/notes-page/assets/js/109.d94e771f.js"><link rel="prefetch" href="/notes-page/assets/js/11.4981bd69.js"><link rel="prefetch" href="/notes-page/assets/js/110.9818fc21.js"><link rel="prefetch" href="/notes-page/assets/js/111.33e1aa16.js"><link rel="prefetch" href="/notes-page/assets/js/112.8eae9a98.js"><link rel="prefetch" href="/notes-page/assets/js/113.6eab651e.js"><link rel="prefetch" href="/notes-page/assets/js/114.36a77934.js"><link rel="prefetch" href="/notes-page/assets/js/115.927c030e.js"><link rel="prefetch" href="/notes-page/assets/js/116.662f76d5.js"><link rel="prefetch" href="/notes-page/assets/js/117.9ea1f334.js"><link rel="prefetch" href="/notes-page/assets/js/118.960c567b.js"><link rel="prefetch" href="/notes-page/assets/js/119.3a887edd.js"><link rel="prefetch" href="/notes-page/assets/js/12.64f11313.js"><link rel="prefetch" href="/notes-page/assets/js/120.f7371ece.js"><link rel="prefetch" href="/notes-page/assets/js/121.bbf13598.js"><link rel="prefetch" href="/notes-page/assets/js/122.c2a4d925.js"><link rel="prefetch" href="/notes-page/assets/js/123.9a810e4a.js"><link rel="prefetch" href="/notes-page/assets/js/124.d1d40dc3.js"><link rel="prefetch" href="/notes-page/assets/js/125.4a10e266.js"><link rel="prefetch" href="/notes-page/assets/js/126.7addaf2d.js"><link rel="prefetch" href="/notes-page/assets/js/127.e9f88089.js"><link rel="prefetch" href="/notes-page/assets/js/128.e95c8f30.js"><link rel="prefetch" href="/notes-page/assets/js/129.06927dfd.js"><link rel="prefetch" href="/notes-page/assets/js/13.7e0d2680.js"><link rel="prefetch" href="/notes-page/assets/js/130.0c0e3f8c.js"><link rel="prefetch" href="/notes-page/assets/js/14.7bf5ee17.js"><link rel="prefetch" href="/notes-page/assets/js/15.bb350a93.js"><link rel="prefetch" href="/notes-page/assets/js/16.dabf0b5e.js"><link rel="prefetch" href="/notes-page/assets/js/17.98d14750.js"><link rel="prefetch" href="/notes-page/assets/js/18.5763d6b6.js"><link rel="prefetch" href="/notes-page/assets/js/19.238ef483.js"><link rel="prefetch" href="/notes-page/assets/js/20.86e8c5e3.js"><link rel="prefetch" href="/notes-page/assets/js/21.7dc55640.js"><link rel="prefetch" href="/notes-page/assets/js/22.3eaf4827.js"><link rel="prefetch" href="/notes-page/assets/js/23.ecaf9188.js"><link rel="prefetch" href="/notes-page/assets/js/24.a054aa87.js"><link rel="prefetch" href="/notes-page/assets/js/25.730c918f.js"><link rel="prefetch" href="/notes-page/assets/js/26.6fa9f436.js"><link rel="prefetch" href="/notes-page/assets/js/27.d0a0f09a.js"><link rel="prefetch" href="/notes-page/assets/js/28.6b7ca3bc.js"><link rel="prefetch" href="/notes-page/assets/js/29.3e9ee4f1.js"><link rel="prefetch" href="/notes-page/assets/js/30.bb684e3a.js"><link rel="prefetch" href="/notes-page/assets/js/31.6d97da62.js"><link rel="prefetch" href="/notes-page/assets/js/32.917c1d90.js"><link rel="prefetch" href="/notes-page/assets/js/33.9a82bcc0.js"><link rel="prefetch" href="/notes-page/assets/js/34.b4725e02.js"><link rel="prefetch" href="/notes-page/assets/js/35.3cd7e803.js"><link rel="prefetch" href="/notes-page/assets/js/36.46bba03e.js"><link rel="prefetch" href="/notes-page/assets/js/37.6efbec2b.js"><link rel="prefetch" href="/notes-page/assets/js/38.ffdc4047.js"><link rel="prefetch" href="/notes-page/assets/js/39.2279a878.js"><link rel="prefetch" href="/notes-page/assets/js/40.787b4ee4.js"><link rel="prefetch" href="/notes-page/assets/js/41.8b544b9b.js"><link rel="prefetch" href="/notes-page/assets/js/42.c6f53645.js"><link rel="prefetch" href="/notes-page/assets/js/43.bf6d321e.js"><link rel="prefetch" href="/notes-page/assets/js/44.2008ba74.js"><link rel="prefetch" href="/notes-page/assets/js/45.59008b73.js"><link rel="prefetch" href="/notes-page/assets/js/46.49e52b99.js"><link rel="prefetch" href="/notes-page/assets/js/47.80005d83.js"><link rel="prefetch" href="/notes-page/assets/js/48.e3188d29.js"><link rel="prefetch" href="/notes-page/assets/js/49.20513ba5.js"><link rel="prefetch" href="/notes-page/assets/js/50.d4177259.js"><link rel="prefetch" href="/notes-page/assets/js/51.11027efe.js"><link rel="prefetch" href="/notes-page/assets/js/52.bbf925f6.js"><link rel="prefetch" href="/notes-page/assets/js/53.b9e98df8.js"><link rel="prefetch" href="/notes-page/assets/js/54.f52364a9.js"><link rel="prefetch" href="/notes-page/assets/js/55.27b41299.js"><link rel="prefetch" href="/notes-page/assets/js/56.0a7f40d8.js"><link rel="prefetch" href="/notes-page/assets/js/57.7cada968.js"><link rel="prefetch" href="/notes-page/assets/js/58.c4635447.js"><link rel="prefetch" href="/notes-page/assets/js/59.9ebc2a41.js"><link rel="prefetch" href="/notes-page/assets/js/6.77cb7c96.js"><link rel="prefetch" href="/notes-page/assets/js/60.a230ec50.js"><link rel="prefetch" href="/notes-page/assets/js/61.6b2b0f7b.js"><link rel="prefetch" href="/notes-page/assets/js/62.85dd8f25.js"><link rel="prefetch" href="/notes-page/assets/js/63.0c0cf8ca.js"><link rel="prefetch" href="/notes-page/assets/js/64.1370f37f.js"><link rel="prefetch" href="/notes-page/assets/js/65.98768153.js"><link rel="prefetch" href="/notes-page/assets/js/66.0ac6e853.js"><link rel="prefetch" href="/notes-page/assets/js/68.b828ed00.js"><link rel="prefetch" href="/notes-page/assets/js/69.c926c773.js"><link rel="prefetch" href="/notes-page/assets/js/7.daa30952.js"><link rel="prefetch" href="/notes-page/assets/js/70.3a582146.js"><link rel="prefetch" href="/notes-page/assets/js/71.c15f8563.js"><link rel="prefetch" href="/notes-page/assets/js/72.44bb1e05.js"><link rel="prefetch" href="/notes-page/assets/js/73.2ff8cba5.js"><link rel="prefetch" href="/notes-page/assets/js/74.dccbf04a.js"><link rel="prefetch" href="/notes-page/assets/js/75.35a73a35.js"><link rel="prefetch" href="/notes-page/assets/js/76.bcaad751.js"><link rel="prefetch" href="/notes-page/assets/js/77.53c83a6d.js"><link rel="prefetch" href="/notes-page/assets/js/78.ff04a0bb.js"><link rel="prefetch" href="/notes-page/assets/js/79.9602d072.js"><link rel="prefetch" href="/notes-page/assets/js/80.fedde3d9.js"><link rel="prefetch" href="/notes-page/assets/js/81.339efb49.js"><link rel="prefetch" href="/notes-page/assets/js/82.b42f85c5.js"><link rel="prefetch" href="/notes-page/assets/js/83.a30b718a.js"><link rel="prefetch" href="/notes-page/assets/js/84.f345d7c8.js"><link rel="prefetch" href="/notes-page/assets/js/85.2b47b713.js"><link rel="prefetch" href="/notes-page/assets/js/86.123864fb.js"><link rel="prefetch" href="/notes-page/assets/js/87.77614ef6.js"><link rel="prefetch" href="/notes-page/assets/js/88.40695b18.js"><link rel="prefetch" href="/notes-page/assets/js/89.73eee99c.js"><link rel="prefetch" href="/notes-page/assets/js/9.be3a9ff7.js"><link rel="prefetch" href="/notes-page/assets/js/90.4d466b5d.js"><link rel="prefetch" href="/notes-page/assets/js/91.9396a6f7.js"><link rel="prefetch" href="/notes-page/assets/js/92.29004af9.js"><link rel="prefetch" href="/notes-page/assets/js/93.2880c851.js"><link rel="prefetch" href="/notes-page/assets/js/94.1652a1b8.js"><link rel="prefetch" href="/notes-page/assets/js/95.1babe436.js"><link rel="prefetch" href="/notes-page/assets/js/96.d85db9de.js"><link rel="prefetch" href="/notes-page/assets/js/97.f29e32ac.js"><link rel="prefetch" href="/notes-page/assets/js/98.dda637c1.js"><link rel="prefetch" href="/notes-page/assets/js/99.cafe8e47.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~docsearch.6356b37d.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~photo-swipe.55a61a85.js"><link rel="prefetch" href="/notes-page/assets/js/vendors~search-page.1437bcb7.js">
    <link rel="stylesheet" href="/notes-page/assets/css/0.styles.e2a3d81d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes-page/" class="home-link router-link-active"><!----> <span class="site-name">大前端 - 前端高级进阶</span></a> <div class="links"><div id="docsearch"></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端分类题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/types/" aria-current="page" class="sidebar-link">笔试分类题</a></li><li><a href="/notes-page/interview/types/01-HTML&amp;CSS.html" class="sidebar-link">CSS篇</a></li><li><a href="/notes-page/interview/types/02-JS.html" class="sidebar-link">JS篇</a></li><li><a href="/notes-page/interview/types/03-Vue.html" class="sidebar-link">Vue</a></li><li><a href="/notes-page/interview/types/04-前端工程化篇.html" class="sidebar-link">前端工程化篇</a></li><li><a href="/notes-page/interview/types/05-移动端篇.html" class="sidebar-link">移动端篇</a></li><li><a href="/notes-page/interview/types/06-git.html" class="sidebar-link">git篇</a></li><li><a href="/notes-page/interview/types/07-Node.html" aria-current="page" class="active sidebar-link">Node篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_1-什么是-node-初级" class="sidebar-link">1. 什么是 node（初级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_2-node-的全局对象有哪些-中级" class="sidebar-link">2. node 的全局对象有哪些（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_3-node-的定时器有哪些-中级" class="sidebar-link">3. node 的定时器有哪些（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_4-通过什么方法可以防止程序的崩溃-中级" class="sidebar-link">4. 通过什么方法可以防止程序的崩溃（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_5-npm-是什么-初级" class="sidebar-link">5. npm 是什么（初级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_6-npm-的作用是什么-初级" class="sidebar-link">6. npm 的作用是什么（初级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_7-node-的-fs-模块-中级" class="sidebar-link">7.node 的 fs 模块（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_8-node-的-http-模块-中级" class="sidebar-link">8. node 的 http 模块（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_9-express-项目的目录大致是什么结构的-中级" class="sidebar-link">9. express 项目的目录大致是什么结构的（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_10-express-常用函数有哪些-中级" class="sidebar-link">10. express 常用函数有哪些（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_11-模块化-中级" class="sidebar-link">11. 模块化（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_12-请介绍一下-node-里的模块是什么-中级" class="sidebar-link">12. 请介绍一下 node 里的模块是什么（中级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_13-请介绍一下-require-的模块加载机制-高级" class="sidebar-link">13. 请介绍一下 require 的模块加载机制（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_14-我们知道node导出模块有两种方式-是-exports-xxx-xxx-和-module-exports-他们有什么区别-高级" class="sidebar-link">14. 我们知道node导出模块有两种方式，是 exports.xxx=xxx 和 Module.exports={}  他们有什么区别（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_15-请介绍一下-node-事件循环的流程-高级" class="sidebar-link">15. 请介绍一下 Node 事件循环的流程（高级）</a></li><li class="sidebar-sub-header"><a href="/notes-page/interview/types/07-Node.html#_16-在每个tick的过程中-如何判断是否有事件需要处理-高级" class="sidebar-link">16. 在每个tick的过程中，如何判断是否有事件需要处理（高级）</a></li></ul></li><li><a href="/notes-page/interview/types/08-数据库篇.html" class="sidebar-link">数据库篇</a></li><li><a href="/notes-page/interview/types/09-算法篇.html" class="sidebar-link">前端面试题：常用算法</a></li><li><a href="/notes-page/interview/types/10-网络篇.html" class="sidebar-link">网络篇</a></li><li><a href="/notes-page/interview/types/11-性能优化篇.html" class="sidebar-link">性能优化篇</a></li><li><a href="/notes-page/interview/types/12-浏览器篇.html" class="sidebar-link">浏览器篇</a></li><li><a href="/notes-page/interview/types/13-React.html" class="sidebar-link">React篇</a></li><li><a href="/notes-page/interview/types/14-开放题.html" class="sidebar-link">开放题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面试技巧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/basic/" class="sidebar-link">关于面试</a></li><li><a href="/notes-page/interview/basic/guide.html" class="sidebar-link">面试准备</a></li><li><a href="/notes-page/interview/basic/basic.html" class="sidebar-link">基础面</a></li><li><a href="/notes-page/interview/basic/tech.html" class="sidebar-link">技术面</a></li><li><a href="/notes-page/interview/boss/" class="sidebar-link">Boss面</a></li><li><a href="/notes-page/interview/hr/" class="sidebar-link">HR面</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>简历</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/writor/" class="sidebar-link">面试</a></li><li><a href="/notes-page/interview/templates/" class="sidebar-link">面试模板</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>公司行业</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-page/interview/company/" class="sidebar-link">选择公司</a></li><li><a href="/notes-page/interview/industry/" class="sidebar-link">行业洞悉</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="node篇"><a href="#node篇" class="header-anchor">#</a> Node篇</h1> <h2 id="_1-什么是-node-初级"><a href="#_1-什么是-node-初级" class="header-anchor">#</a> 1. 什么是 node（初级）</h2> <p>node 是一种后端语言，是基于谷歌浏览器的v8引擎的服务端语言。</p> <p>node 是基于 javascript 语法的一套服务器。</p> <ul><li>单线程：高并发使得 node 让 cpu 的利用率可以达到100%。</li> <li>非阻塞式i/o 就是 node 在访问高io(输入输出)的应用的时候 不会等待着它的完。</li> <li>事件驱动 把高 io 的操作放到一个事件列队当中 完成后通过回调函数的方式在进入到线程里。</li> <li>轻量级：因为 node.js 本身即是代码又是服务器，前后端可以使用同一套语法。</li></ul> <p>所以 node 一般适合开发高并发的，高 i/o 的。</p> <p>不适合开发一些对稳定性要求较高的应用【银行，医院，电力等】。</p> <h2 id="_2-node-的全局对象有哪些-中级"><a href="#_2-node-的全局对象有哪些-中级" class="header-anchor">#</a> 2. node 的全局对象有哪些（中级）</h2> <ul><li>global：定义整个 runtime 时期的全局变量。</li> <li>console：定义控制台的标准输出。</li> <li>module：模块化。</li> <li>exports：导出。</li> <li>process：用来描述当前 Node.js 进程状态的对象，提供一个与操作系统的简单接口。</li></ul> <h2 id="_3-node-的定时器有哪些-中级"><a href="#_3-node-的定时器有哪些-中级" class="header-anchor">#</a> 3. node 的定时器有哪些（中级）</h2> <ul><li>settimeout</li> <li>setinterval</li> <li>clearinterval</li></ul> <h2 id="_4-通过什么方法可以防止程序的崩溃-中级"><a href="#_4-通过什么方法可以防止程序的崩溃-中级" class="header-anchor">#</a> 4. 通过什么方法可以防止程序的崩溃（中级）</h2> <ul><li>try-catch-finally</li></ul> <h2 id="_5-npm-是什么-初级"><a href="#_5-npm-是什么-初级" class="header-anchor">#</a> 5. npm 是什么（初级）</h2> <ul><li>npm 是基于 node 的管理和分发包的工具，是目前最大的开放源代码的生态系统，可用于安装、卸载、发布、查看包等。</li> <li>通过 npm，可以安装和管理项目的所有依赖项，同时我可以指定版本。</li> <li>同时你也可以将自己的代码进行上传。</li></ul> <h2 id="_6-npm-的作用是什么-初级"><a href="#_6-npm-的作用是什么-初级" class="header-anchor">#</a> 6. npm 的作用是什么（初级）</h2> <ul><li>npm 是同 Node .js一起安装的包管理工具，能解决 Node. js 代码部署上的很多问题。常见的使用场景有以下几种：
<ul><li>允许用户从 npm 服务器下载别人编写的第三方包到本地。</li> <li>允许用户从 npm 服务器下载并安装别人编写的命令行程序到本地。</li> <li>允许用户将自己编写的包或命令行程序上传到 npm 服务器供别人使用。</li></ul></li></ul> <h2 id="_7-node-的-fs-模块-中级"><a href="#_7-node-的-fs-模块-中级" class="header-anchor">#</a> 7.node 的 fs 模块（中级）</h2> <ul><li>fs.readFile（文件名，回调函数）读文件。</li> <li>fs.writeFile(路径，内容，回调函数)。</li> <li>fs.appendFile(路径,内容,回调函数)。</li> <li>fs.mkdir（） 创建目录。</li> <li>fs.rmdir（） 删除目录。</li> <li>fs.unlink（）删除文件。</li></ul> <h2 id="_8-node-的-http-模块-中级"><a href="#_8-node-的-http-模块-中级" class="header-anchor">#</a> 8. node 的 http 模块（中级）</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> http<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// 2.创建服务</span>
<span class="token comment">// 形参：req:请求, res:响应</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// 返回响应头</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;Content-type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 设置返回内容</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;我是一个服务器&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_9-express-项目的目录大致是什么结构的-中级"><a href="#_9-express-项目的目录大致是什么结构的-中级" class="header-anchor">#</a> 9. express 项目的目录大致是什么结构的（中级）</h2> <p>首先，执行安装 express 的指令：npm install express-generator-g。</p> <p>创建的项目目录结构如下:</p> <ul><li>./app.js 应用核心配置文件（入口文件）。</li> <li>./bin 存放启动项目的脚本文件。</li> <li>./ package.json 存储项目的信息及模块依赖。</li> <li>./public 静态文件（css、js、img 等）。</li> <li>./routes 路由文件（ MVC 中的 contro1ler）。</li> <li>./views 页面文件（ jade 模板）。</li></ul> <h2 id="_10-express-常用函数有哪些-中级"><a href="#_10-express-常用函数有哪些-中级" class="header-anchor">#</a> 10. express 常用函数有哪些（中级）</h2> <p>常用函数有以下几个:</p> <ul><li>express .Router—路由组件。</li> <li>app.get—路由定向。</li> <li>app. configure—配置。</li> <li>app.set一设定参数。</li> <li>app.use—使用中间件。</li></ul> <h2 id="_11-模块化-中级"><a href="#_11-模块化-中级" class="header-anchor">#</a> 11. 模块化（中级）</h2> <ul><li><p>commonjs 模块化</p> <p>暴露：exports 或者 module.exports 引入：require。</p></li> <li><p>es6模块化：</p> <p>暴露export，引入 import {属性或函数…} from 路径;引入这个模块。</p></li></ul> <h2 id="_12-请介绍一下-node-里的模块是什么-中级"><a href="#_12-请介绍一下-node-里的模块是什么-中级" class="header-anchor">#</a> 12. 请介绍一下 node 里的模块是什么（中级）</h2> <p>Node 中，每个文件模块都是一个对象，它的定义如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Module</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>filename <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>loaded <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Module<span class="token punctuation">;</span>

<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Module</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>所有的模块都是 Module 的实例。可以看到，当前模块（module.js）也是 Module 的一个实例。</p> <h2 id="_13-请介绍一下-require-的模块加载机制-高级"><a href="#_13-请介绍一下-require-的模块加载机制-高级" class="header-anchor">#</a> 13. 请介绍一下 require 的模块加载机制（高级）</h2> <p>这道题基本上就可以了解到面试者对Node模块机制的了解程度 基本上面试提到:</p> <ul><li><p>1、先计算模块路径</p></li> <li><p>2、如果模块在缓存里面，取出缓存</p></li> <li><p>3、加载模块</p></li> <li><p>4、的输出模块的 exports 属性即可</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// require 其实内部调用 Module._load 方法</span>
Module<span class="token punctuation">.</span><span class="token function-variable function">_load</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> isMain</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//  计算绝对路径</span>
  <span class="token keyword">var</span> filename <span class="token operator">=</span> Module<span class="token punctuation">.</span><span class="token function">_resolveFilename</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//  第一步：如果有缓存，取出缓存</span>
  <span class="token keyword">var</span> cachedModule <span class="token operator">=</span> Module<span class="token punctuation">.</span>_cache<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedModule<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> cachedModule<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>

  <span class="token comment">// 第二步：是否为内置模块</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>NativeModule<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> NativeModule<span class="token punctuation">.</span><span class="token function">require</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">/********************************这里注意了**************************/</span>
  <span class="token comment">// 第三步：生成模块实例，存入缓存</span>
  <span class="token comment">// 这里的Module就是我们上面的1.1定义的Module</span>
  <span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Module</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Module<span class="token punctuation">.</span>_cache<span class="token punctuation">[</span>filename<span class="token punctuation">]</span> <span class="token operator">=</span> module<span class="token punctuation">;</span>

  <span class="token comment">/********************************这里注意了**************************/</span>
  <span class="token comment">// 第四步：加载模块</span>
  <span class="token comment">// 下面的module.load实际上是Module原型上有一个方法叫Module.prototype.load</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    hadException <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hadException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> Module<span class="token punctuation">.</span>_cache<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 第五步：输出模块的exports属性</span>
  <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="_14-我们知道node导出模块有两种方式-是-exports-xxx-xxx-和-module-exports-他们有什么区别-高级"><a href="#_14-我们知道node导出模块有两种方式-是-exports-xxx-xxx-和-module-exports-他们有什么区别-高级" class="header-anchor">#</a> 14. 我们知道node导出模块有两种方式，是 exports.xxx=xxx 和 Module.exports={}  他们有什么区别（高级）</h2> <ul><li>exports其实就是module.exports</li> <li>其实1.3问题的代码已经说明问题了，接着我引用廖雪峰大神的讲解，希望能讲的更清楚</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports vs exports
<span class="token comment">// 很多时候，你会看到，在Node环境中，有两种方法可以在一个模块中输出变量：</span>

<span class="token comment">// 方法一：对module.exports赋值：</span>

<span class="token comment">// hello.js</span>

<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, '</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    hello<span class="token operator">:</span> hello<span class="token punctuation">,</span>
    greet<span class="token operator">:</span> greet
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 方法二：直接使用exports：</span>

<span class="token comment">// hello.js</span>

<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, '</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span>hello <span class="token operator">=</span> hello<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>greet <span class="token operator">=</span> greet<span class="token punctuation">;</span>
<span class="token comment">// 但是你不可以直接对exports赋值：</span>

<span class="token comment">// 代码可以执行，但是模块并没有输出任何变量:</span>
exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    hello<span class="token operator">:</span> hello<span class="token punctuation">,</span>
    greet<span class="token operator">:</span> greet
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 如果你对上面的写法感到十分困惑，不要着急，我们来分析Node的加载机制：</span>

<span class="token comment">// 首先，Node会把整个待加载的hello.js文件放入一个包装函数load中执行。在执行这个load()函数前，Node准备好了module变量：</span>

<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    exports<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// load()函数最终返回module.exports：</span>

<span class="token keyword">var</span> <span class="token function-variable function">load</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// hello.js的文件内容</span>
    <span class="token operator">...</span>
    <span class="token comment">// load函数返回:</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> exportes <span class="token operator">=</span> <span class="token function">load</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> module<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 也就是说，默认情况下，Node准备的exports变量和module.exports变量实际上是同一个变量，并且初始化为空对象{}，于是，我们可以写：</span>


exports<span class="token punctuation">.</span><span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'bar'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 也可以写：</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'bar'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 换句话说，Node默认给你准备了一个空对象{}，这样你可以直接往里面加东西。</span>

<span class="token comment">// 但是，如果我们要输出的是一个函数或数组，那么，只能给module.exports赋值：</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 给exports赋值是无效的，因为赋值后，module.exports仍然是空对象{}。</span>

<span class="token comment">// 结论</span>
<span class="token comment">// 如果要输出一个键值对象{}，可以利用exports这个已存在的空对象{}，并继续在上面添加新的键值；</span>

<span class="token comment">// 如果要输出一个函数或数组，必须直接对module.exports对象赋值。</span>

<span class="token comment">// 所以我们可以得出结论：直接对module.exports赋值，可以应对任何情况：</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 或者：</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 最终，我们强烈建议使用module.exports = xxx的方式来输出模块变量，这样，你只需要记忆一种方法。</span>
</code></pre></div><h2 id="_15-请介绍一下-node-事件循环的流程-高级"><a href="#_15-请介绍一下-node-事件循环的流程-高级" class="header-anchor">#</a> 15. 请介绍一下 Node 事件循环的流程（高级）</h2> <ul><li><p>在进程启动时，Node 便会创建一个类似于 while(true) 的循环，每执行一次循环体的过程我们成为 Tick。</p></li> <li><p>每个 Tick 的过程就是查看是否有事件待处理。如果有就取出事件及其相关的回调函数。然后进入下一个循环，如果不再有事件处理，就退出进程。</p> <p><img src="/notes-page/assets/img/iShot2021-05-27_18.57.01.4f395b02.png" alt="37"></p></li></ul> <h2 id="_16-在每个tick的过程中-如何判断是否有事件需要处理-高级"><a href="#_16-在每个tick的过程中-如何判断是否有事件需要处理-高级" class="header-anchor">#</a> 16. 在每个tick的过程中，如何判断是否有事件需要处理（高级）</h2> <ul><li>每个事件循环中有一个或者多个观察者，而判断是否有事件需要处理的过程就是向这些观察者询问是否有要处理的事件。</li> <li>在 Node 中，事件主要来源于网络请求、文件的 I/O 等，这些事件对应的观察者有文件 I/O 观察者，网络 I/O的观察者。</li> <li>事件循环是一个典型的生产者/消费者模型。异步 I/O，网络请求等则是事件的生产者，源源不断为Node提供不同类型的事件，这些事件被传递到对应的观察者那里，事件循环则从观察者那里取出事件并处理。</li> <li>在 windows 下，这个循环基于 IOCP 创建，在Lnix下则基于多线程创建。</li></ul></div> <!----> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes-page/interview/types/06-git.html" class="prev">
        git篇
      </a></span> <span class="next"><a href="/notes-page/interview/types/08-数据库篇.html">
        数据库篇
      </a>
      →
    </span></p></div>  <div class="el-dialog__wrapper" style="display:none;"><div role="dialog" aria-modal="true" aria-label="dialog" class="el-dialog" style="margin-top:15vh;width:420px;"><div class="el-dialog__header"><span class="el-dialog__title"></span><button type="button" aria-label="Close" class="el-dialog__headerbtn"><i class="el-dialog__close el-icon el-icon-close"></i></button></div><!----><div class="el-dialog__footer"><span class="dialog-footer"><button type="button" class="el-button el-button--default"><!----><!----><span>取 消</span></button> <button type="button" class="el-button el-button--primary"><!----><!----><span>确 定</span></button></span></div></div></div></main> <!----></div><div class="global-ui"><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/notes-page/assets/js/app.8d82347b.js" defer></script><script src="/notes-page/assets/js/8.8378e173.js" defer></script><script src="/notes-page/assets/js/67.b271c2a3.js" defer></script>
  </body>
</html>
